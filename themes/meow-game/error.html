<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Error</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Staatliches&family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto Condensed', sans-serif;
            background: linear-gradient(135deg, #3d3020 0%, #5a4a35 50%, #3d3020 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            overflow-x: hidden;
            overflow-y: hidden;
            position: relative;
        }

        /* Police lights effect */
        @keyframes police-lights {
            0%, 40% { background: rgba(255, 0, 0, 0.2); }
            50%, 90% { background: rgba(0, 0, 255, 0.2); }
            100% { background: rgba(255, 0, 0, 0.2); }
        }

        .police-lights {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            animation: police-lights 2s ease-in-out infinite;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }

        .error-container {
            position: relative;
            z-index: 1;
            text-align: center;
            padding: 15px;
            max-width: 900px;
            width: 95%;
            max-height: 95vh;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .trooper-box {
            background: rgba(70, 60, 45, 0.95);
            border: 4px solid #d4af37;
            border-radius: 8px;
            padding: 50px 20px 18px 20px;
            box-shadow: 0 0 60px rgba(212, 175, 55, 0.4),
                        inset 0 0 40px rgba(0, 0, 0, 0.8);
            position: relative;
            overflow: hidden;
            width: 100%;
            box-sizing: border-box;
        }

        .trooper-box::before {
            content: 'ðŸš¨ STATE TROOPER ðŸš¨';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #8b7355, #6b5644);
            color: #d4af37;
            padding: 8px 18px;
            font-weight: 900;
            font-size: 12px;
            letter-spacing: 3px;
            border: 3px solid #d4af37;
            border-radius: 5px;
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.8);
            white-space: nowrap;
            font-family: 'Staatliches', cursive;
        }

        .meow-counter {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 0, 0, 0.8);
            color: #fff;
            padding: 8px 15px;
            border-radius: 20px;
            font-family: 'Staatliches', cursive;
            font-size: 16px;
            font-weight: 900;
            border: 2px solid #fff;
            box-shadow: 0 0 20px rgba(255, 0, 0, 0.8);
            z-index: 10;
        }

        .title {
            font-family: 'Staatliches', cursive;
            font-size: 26px;
            color: #d4af37;
            text-transform: uppercase;
            margin-bottom: 8px;
            text-shadow: 3px 3px 0 #000,
                         0 0 30px rgba(212, 175, 55, 0.8);
            line-height: 1.2;
            letter-spacing: 2px;
        }

        .trooper-img {
            width: 100%;
            max-width: 550px;
            height: auto;
            border: 4px solid #d4af37;
            border-radius: 8px;
            margin: 8px auto 8px auto;
            box-shadow: 0 0 40px rgba(212, 175, 55, 0.5);
        }

        .error-code {
            font-family: 'Staatliches', cursive;
            font-size: 70px;
            font-weight: bold;
            color: #ff4444;
            text-shadow: 4px 4px 0 #000,
                         0 0 40px rgba(255, 68, 68, 0.9);
            margin: 8px 0;
            line-height: 1;
        }

        .error-message {
            font-size: 20px;
            font-weight: 700;
            color: #d4af37;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .citation {
            background: rgba(255, 255, 255, 0.1);
            border: 3px solid #d4af37;
            border-radius: 8px;
            padding: 15px;
            margin: 10px auto;
            max-width: 650px;
            text-align: left;
            font-family: 'Roboto Condensed', sans-serif;
        }

        .citation-header {
            font-family: 'Staatliches', cursive;
            font-size: 18px;
            color: #d4af37;
            margin-bottom: 10px;
            text-align: center;
            letter-spacing: 2px;
            border-bottom: 2px solid #d4af37;
            padding-bottom: 8px;
        }

        .citation-line {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 14px;
            padding: 5px;
            border-bottom: 1px dotted rgba(255, 255, 255, 0.2);
        }

        .citation-label {
            color: #d4af37;
            font-weight: 700;
        }

        .citation-value {
            color: #fff;
            font-weight: 600;
        }

        .meow {
            color: #ff69b4;
            font-weight: 900;
            text-shadow: 0 0 10px #ff69b4;
        }

        .violation-notice {
            background: rgba(212, 175, 55, 0.1);
            border-left: 4px solid #d4af37;
            padding: 12px 15px;
            margin: 10px auto;
            max-width: 650px;
            text-align: left;
            border-radius: 4px;
        }

        .violation-title {
            font-family: 'Staatliches', cursive;
            font-size: 16px;
            color: #d4af37;
            margin-bottom: 8px;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .violation-text {
            font-size: 15px;
            color: #fff;
            line-height: 1.6;
            font-weight: 600;
        }

        .trooper-advice {
            font-size: 15px;
            color: #88cc88;
            margin: 8px 0;
            font-style: italic;
            font-weight: 600;
        }

        .buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        .btn {
            display: inline-block;
            padding: 14px 35px;
            font-size: 18px;
            font-weight: 900;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-family: 'Staatliches', cursive;
            text-transform: uppercase;
            border: 4px solid;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #d4af37, #f0c850);
            color: #000;
            border-color: #b8941f;
            box-shadow: 0 8px 0 #9a7a1a,
                        0 0 30px rgba(212, 175, 55, 0.5);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #e0bb47, #ffd860);
            transform: translateY(-4px);
            box-shadow: 0 12px 0 #9a7a1a,
                        0 0 40px rgba(212, 175, 55, 0.7);
        }

        .btn-primary:active {
            transform: translateY(4px);
            box-shadow: 0 4px 0 #9a7a1a,
                        0 0 20px rgba(212, 175, 55, 0.4);
        }

        .btn-secondary {
            background: rgba(255, 68, 68, 0.2);
            color: #ff6666;
            border-color: #ff4444;
            box-shadow: 0 8px 0 rgba(255, 68, 68, 0.4),
                        0 0 30px rgba(255, 68, 68, 0.3);
        }

        .btn-secondary:hover {
            background: rgba(255, 68, 68, 0.3);
            color: #ff8888;
            transform: translateY(-4px);
            box-shadow: 0 12px 0 rgba(255, 68, 68, 0.4),
                        0 0 40px rgba(255, 68, 68, 0.4);
        }

        .btn-secondary:active {
            transform: translateY(4px);
            box-shadow: 0 4px 0 rgba(255, 68, 68, 0.4),
                        0 0 20px rgba(255, 68, 68, 0.3);
        }

        .footer-text {
            font-size: 14px;
            color: #999;
            font-style: italic;
            margin-top: 10px;
            padding-top: 8px;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 22px;
            }

            .error-code {
                font-size: 60px;
            }

            .error-message {
                font-size: 18px;
            }

            .meow-counter {
                top: 50px;
                right: 10px;
                font-size: 14px;
                padding: 6px 12px;
            }

            .citation {
                padding: 12px;
                max-width: 100%;
            }

            .citation-header {
                font-size: 16px;
            }

            .citation-line {
                font-size: 13px;
            }

            .violation-notice {
                padding: 10px 12px;
                max-width: 100%;
            }

            .violation-title {
                font-size: 14px;
            }

            .violation-text {
                font-size: 14px;
            }

            .trooper-advice {
                font-size: 14px;
            }

            .btn {
                padding: 12px 28px;
                font-size: 16px;
            }

            .trooper-box {
                padding: 45px 15px 15px 15px;
            }

            .trooper-box::before {
                font-size: 10px;
                padding: 7px 12px;
            }

            .trooper-img {
                max-width: 100%;
            }

            .footer-text {
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="police-lights"></div>

    <div class="error-container">
        <div class="trooper-box">
            <div class="meow-counter" id="meow-counter">MEOWS: 0</div>

            <div class="title" id="title">
                License And Registration
            </div>

            <img src="resources/trooper.jpg" alt="State Trooper" class="trooper-img">

            <div class="error-code" id="error-code">000</div>
            <div class="error-message" id="error-message">Unknown Error</div>

            <div class="citation">
                <div class="citation-header">TRAFFIC VIOLATION CITATION</div>
                <div class="citation-line">
                    <span class="citation-label">VIOLATION CODE:</span>
                    <span class="citation-value" id="violation-code">ERROR-000</span>
                </div>
                <div class="citation-line">
                    <span class="citation-label">LOCATION:</span>
                    <span class="citation-value" id="location">Information Superhighway</span>
                </div>
                <div class="citation-line">
                    <span class="citation-label">OFFICER:</span>
                    <span class="citation-value">Trooper Foster</span>
                </div>
                <div class="citation-line">
                    <span class="citation-label">STATUS:</span>
                    <span class="citation-value" id="status">Pulled Over</span>
                </div>
            </div>

            <div class="violation-notice">
                <div class="violation-title">VIOLATION DETAILS:</div>
                <div class="violation-text" id="violation-text">
                    Do you know why I pulled you over? Your request was clocked at excessive speeds on the information superhighway.
                </div>
            </div>

            <div class="trooper-advice" id="trooper-advice">
                Littering and... littering and... smoking the reefer.
            </div>

            <div class="buttons">
                <a href="/" class="btn btn-primary">Return to Station</a>
                <a href="javascript:history.back()" class="btn btn-secondary">Contest Citation</a>
            </div>

            <div class="footer-text" id="footer-text">
                The snozberries taste like snozberries
            </div>
        </div>
    </div>

    <script>
        const errorMessages = {
            400: "Bad Request",
            401: "Unauthorized",
            402: "Payment Required",
            403: "Forbidden",
            404: "Not Found",
            405: "Method Not Allowed",
            406: "Not Acceptable",
            408: "Request Timeout",
            409: "Conflict",
            410: "Gone",
            413: "Payload Too Large",
            429: "Too Many Requests",
            500: "Internal Server Error",
            502: "Bad Gateway",
            503: "Service Unavailable",
            504: "Gateway Timeout"
        };

        const titles = {
            400: "License And Registration",
            401: "Show Me Your ID",
            402: "Pay The Ticket",
            403: "Restricted Area",
            404: "Lost On The Highway",
            405: "Illegal Maneuver",
            406: "Equipment Violation",
            408: "Taking Too Long",
            409: "Obstruction",
            410: "Road Closed",
            413: "Overweight Vehicle",
            429: "Excessive Speed",
            500: "Station Malfunction",
            502: "Roadblock Ahead",
            503: "Highway Closed",
            504: "Checkpoint Delay"
        };

        const violations = {
            400: "Do you know why I pulled you over right meow? Your request syntax was all over the road. I'm not kidding right meow, that's dangerous driving. You need to straighten out that format right meow before someone gets hurt.",
            401: "License and registration... meow. I'm going to need to see some credentials right meow. You can't just access this area without proper authorization. What do you think this is right meow, a free-for-all?",
            402: "Meow listen here, this is a toll road. You're going to need to pay up right meow before you can proceed. No free rides on this highway, no matter how fast you're going right meow.",
            403: "This area is restricted, friend. I'm afraid I can't let you through right meow. You don't have clearance for this part of the highway. Meow, turn around and find another route.",
            404: "Do you know where you are right meow? Because this page doesn't exist. You're lost on the information superhighway. Maybe you should have used a map... right meow.",
            405: "That maneuver is illegal on this highway. You can't use that HTTP method here right meow. Meow, you need to learn the rules of the road before you hurt someone.",
            406: "Your vehicle doesn't match the required format right meow. The content type you're requesting isn't acceptable. Meow, you need to get that fixed.",
            408: "You've been sitting at this stop for too long right meow. Either move along or I'm going to have to write you a ticket. The connection timed out, no matter what excuse you have right meow.",
            409: "There's a conflict here right meow. Two data streams are trying to use the same lane. That's a violation. Meow, you need to resolve this before proceeding.",
            410: "This road has been permanently closed. It's gone, demolished, no longer exists right meow. You can't drive on a road that isn't there anymore. What part of 'gone' do you not understand right meow?",
            413: "Your payload is way over the weight limit right meow. That's a serious violation. You're going to need to lighten your load before I can let you through. Right meow, your data is too large.",
            429: "Do you know how fast you were going right meow? I clocked you at way too many requests per second. Slow down right meow before you cause an accident! This is your final warning.",
            500: "The station has a malfunction right meow. Our internal systems are down. Meow, this is embarrassing. The server encountered an error. We need to get this fixed right meow.",
            502: "The gateway is blocked right meow. There's no way through. The upstream connection failed. Maybe you should try another route right meow.",
            503: "This highway is closed for maintenance right meow. Service is temporarily unavailable. Come back later when the road is open again. Check back in an hour or so... right meow.",
            504: "The checkpoint isn't responding right meow. The gateway timed out. We've been waiting here forever. Maybe something is wrong up ahead right meow."
        };

        const locations = {
            400: "Syntax Junction",
            401: "Authentication Avenue",
            402: "Payment Plaza",
            403: "Forbidden Fork",
            404: "Lost Highway",
            405: "Method Meadow",
            406: "Format Freeway",
            408: "Timeout Turnpike",
            409: "Conflict Crossing",
            410: "Deleted Drive",
            413: "Overload Lane",
            429: "Speed Trap Road",
            500: "Server Street",
            502: "Gateway Grove",
            503: "Maintenance Mile",
            504: "Timeout Trail"
        };

        const statuses = {
            400: "Citation Issued",
            401: "ID Check Required",
            402: "Toll Due",
            403: "Access Denied",
            404: "Lost Driver",
            405: "Illegal Maneuver",
            406: "Equipment Failure",
            408: "Delay Violation",
            409: "Traffic Conflict",
            410: "Road Closed",
            413: "Overweight",
            429: "Speeding",
            500: "Station Error",
            502: "Road Block",
            503: "Closed",
            504: "Maximum Wait Time"
        };

        const advice = {
            400: "Next time, double-check your syntax right meow. Meow, it's not that hard.",
            401: "Always carry your credentials. You never know when you'll need them right meow.",
            402: "The snozberries taste like snozberries... but you still have to pay the toll right meow.",
            403: "Don't go where you're not allowed right meow. That's a good way to get arrested.",
            404: "Not all who wander are lost, but you definitely are right meow.",
            405: "Learn the proper methods right meow. You can't just make up your own rules.",
            406: "Get your formats in order right meow. This is a professional highway.",
            408: "Time is money, friend. We don't have all day right meow.",
            409: "Can't we all just get along right meow? Apparently not.",
            410: "Some roads close forever. You need to accept that and move on right meow.",
            413: "Size matters on the highway. Your payload is too big right meow.",
            429: "Slow down right meow! This isn't the Autobahn.",
            500: "Even troopers make mistakes sometimes. We'll fix this right meow.",
            502: "The gateway's closed right meow. Not our problem.",
            503: "Highway's closed. Go get some coffee and come back later... right meow.",
            504: "Patience is a virtue. The gateway will respond eventually... right meow."
        };

        const footers = {
            400: "Do we look like the three stooges to you? Fix your request syntax right meow!",
            401: "These boys get that syrup in 'em, they get all antsy in their pantsy.",
            402: "The snozberries taste like snozberries, but they aren't free.",
            403: "You smell something, Rabbit? Fear.",
            404: "Not so funny meow, is it?",
            405: "Easy, Rod. Easy, Rod. Rod! What did I just say?",
            406: "Who wants a mustache ride?",
            408: "Say car Ram-Rod! Say it!",
            409: "You boys like Mexico?!",
            410: "The road is gone forever. Totally gone. Super gone.",
            413: "Mother of God...",
            429: "Our shenanigans are cheeky and fun. Your errors are cruel and tragic.",
            500: "I'm freaking out, man!",
            502: "Littering and... littering and...",
            503: "The highway is closed. Probably for the best.",
            504: "Am I saying meow? Do I look like a cat to you?"
        };

        // Get error code from URL path
        const path = window.location.pathname;
        const match = path.match(/\/(\d+)\.html$/);
        const errorCode = match ? parseInt(match[1]) : 404;
        const errorMessage = errorMessages[errorCode] || "Unknown Error";
        const title = titles[errorCode] || "License And Registration";
        const violation = violations[errorCode] || "Do you know why I pulled you over? Your request was clocked at excessive speeds on the information superhighway.";
        const location = locations[errorCode] || "Information Superhighway";
        const status = statuses[errorCode] || "Pulled Over";
        const trooperAdvice = advice[errorCode] || "Littering and... littering and... smoking the reefer.";
        const footer = footers[errorCode] || "The snozberries taste like snozberries";

        // Update page content
        document.getElementById('title').textContent = title;
        document.getElementById('error-code').textContent = errorCode;
        document.getElementById('error-message').textContent = errorMessage;
        document.getElementById('violation-code').textContent = 'ERROR-' + errorCode;
        document.getElementById('location').innerHTML = location;
        document.getElementById('status').innerHTML = status;
        document.getElementById('violation-text').innerHTML = violation;
        document.getElementById('trooper-advice').innerHTML = trooperAdvice;
        document.getElementById('footer-text').innerHTML = footer;
        document.getElementById('page-title').textContent = errorCode + " - " + errorMessage;

        // Count meows
        const pageContent = document.body.innerHTML;
        const meowCount = (pageContent.match(/meow/gi) || []).length;
        document.getElementById('meow-counter').textContent = 'MEOWS: ' + meowCount;

        // Fix resource paths for internal error redirects
        const themeName = 'meow-game';
        document.querySelectorAll('img[src^="resources/"]').forEach(img => {
            img.src = '/' + themeName + '/' + img.getAttribute('src');
        });
    </script>
</body>
</html>
